{% extends "base.html" %}

{% block content %}
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='StylingHiddenTable.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='StylingCheatSheet.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='StylingScrollBar.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='StylingGalaxySearch.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='StylingCanvas.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='StylingTutorial.css')}}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <div class="navSearch" id="navSearch"><i class="fa fa-search"></i></div>
    <div class="closeSearch" id="closeSearch"><i class="fa fa-close"></i></div>
    <div class="searchField" id="searchField">
        <input type="text" placeholder="Ids, Galaxies, Surveys" name="search"; autocomplete="off" onkeydown="search(this)">
    </div>
    <div id="mySidenav" class="sidenav">
        <div class="extra" style="width:  100%; height: 100%;">
            <div class="tables" id="obj_table_div" style="width: 100%;  height:100%;">
                <div class="filterBlock">
                    <div class="square" id="all" tabindex='0'>
                        <svg>
                            <rect x="5" y="5.5" width="5" height="5" fill="red" />
                            <circle cx="22" cy="8" r="3" fill="red" />
                            <ellipse cx="8" cy="22" rx="4" ry="3" fill="red" />
                            <line x1="20" y1="20" x2="25" y2="25" style="stroke:rgb(255,0,0);stroke-width:2" />
                        </svg>
                    </div>
                    <div class="square" id="rect" tabindex='1'>
                        <svg>
                            <rect x="8" y="8" width="15" height="15" fill="red"/>
                        </svg>
                    </div>
                    <div class="square" id="circle" tabindex='2'>
                        <svg>
                            <circle cx="15" cy="15" r="8" fill="red" />
                        </svg>
                    </div>
                    <div class="square" id="ellipse" tabindex='3'>
                        <svg>
                            <ellipse cx="15" cy="15" rx="10" ry="5" fill="red" />
                        </svg>
                    </div>
                    <div class="square" id="line" tabindex='4'>
                        <svg>
                            <line x1="5" y1="5" x2="22" y2="22" style="stroke:rgb(255,0,0);stroke-width:2" />
                        </svg>
                    </div>
                </div>
                <table class="obj_table" id="obj_table" style="width:100%">
                    <thead>
                        <tr>
                            <th>Shape</th>
                            <th>ID</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <script>
                    $('tbody').sortable();
                </script>
                <script src="{{ url_for('static', filename='JavascriptTableManager.js') }}"></script>
                <script src="{{ url_for('static', filename='JavascriptCheatSheet.js') }}"></script>
                <script src="{{ url_for('static', filename='JavascriptGalaxySearch.js') }}"></script>
                <script src="{{ url_for('static', filename='JavascriptSubmission.js') }}"></script>
                <script src="{{ url_for('static', filename='JavascriptWindowResize.js') }}"></script>
            </div>
        </div>
    </div>
    <div id="myCheatSheet" class="cheatSheet">
        <div class="cheatSheetTable">
            <h3>Galaxy Type</h3>
            <div>
                <h4>Spiral</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetSpiral.jpg') }}">
            </div>

            <div>
                <h4>Elliptical</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetElliptical.jpg') }}">
            </div>

            <div>
                <h4>Merger</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetMerger.jpg') }}">
            </div>

            <div class="spacing">

            </div>

            <h3>Galaxy Shape</h3>
            <div>
                <h4>Completely Round</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetCompletelyRound.jpg') }}">
            </div>

            <div>
                <h4>In Between</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetInBetween.jpg') }}">
            </div>

            <div>
                <h4>Cigar Shaped</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetCigarShaped.jpg') }}">
            </div>

            <div class="spacing">

            </div>

            <h3>Bulge Shape</h3>
            <div>
                <h4>Rounded</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetRounded.jpg') }}">
            </div>

            <div>
                <h4>Boxy</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetBoxy.jpg') }}">
            </div>

            <div>
                <h4>No Bulge</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetNoBulge.jpg') }}">
            </div>

            <div class="spacing">

            </div>

             <h3>Spiral Pattern</h3>
            <div>
                <h4>Yes</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetSpiralPattern1.jpg') }}">
            </div>

            <div>
                <h4>Yes</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetSpiralPattern2.jpg') }}">
            </div>

            <div>
                <h4>No</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetNoSpiral1.jpg') }}">
            </div>

            <div>
                <h4>No</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetNoSpiral2.jpg') }}">
            </div>

            <div class="spacing">

            </div>

            <h3>Number of Spirals</h3>
            <div>
                <h4>1</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetOneSpiral.jpg') }}">
            </div>

            <div>
                <h4>2</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetTwoSpiral.jpg') }}">
            </div>

            <div>
                <h4>3</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetThreeSpiral.jpg') }}">
            </div>

            <div>
                <h4>4+</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetFourPlus.jpg') }}">
            </div>

            <div>
                <h4>Can't Tell</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetCantTell.jpg') }}">
            </div>

            <div class="spacing">

            </div>

            <h3>Rare Features</h3>
            <div>
                <h4>Ring</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetRing.jpg') }}">
            </div>

            <div>
                <h4>Lens/Arc</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetLensOrArc.jpg') }}">
            </div>

            <div>
                <h4>Disturbed</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetDisturbed.jpg') }}">
            </div>

            <div>
                <h4>Irregular</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetIrregular.jpg') }}">
            </div>

            <div>
                <h4>Merger</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetMerger2.jpg') }}">
            </div>
            <div>
                <h4>Dust Lane</h4>
                <img class="cheatSheetImage" src="{{ url_for('static', filename='CheatSheetDustLane.jpg') }}">
            </div>

            <div class="spacing">

            </div>
        </div>
    </div>
    <div id="target">
        <div id="canv_cont">
            <canvas class="imageCanvas" id="imageCanvas" style="background-color:#333333"></canvas>
            <script>
                var imageCanvas = document.getElementById("imageCanvas");
                var img_ctx = imageCanvas.getContext("2d");
                var w={{dim.image_width}};
                var h={{dim.image_width}};
                var csrf_token="{{csrf_token()}}";
                var static_url="{{url_for('static', filename='')}}"
                init()
                
                
                // Makes w/h of canvas same as image
                function init(){
                    $.ajaxSetup({
                        beforeSend: function(xhr, settings) {
                            if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {
                                xhr.setRequestHeader("X-CSRFToken", csrf_token);
                            }
                        }
                    });
                    galaxy=new Image();
                    galaxy.onload=function(){
                        imageCanvas.width=w;
                        imageCanvas.height=h;
                        img_ctx.drawImage(galaxy, 0, 0,w,h);
                    }
                    galaxy.src="{{url_for('static', filename=file.name)}}.jpg";
                }

            </script>
            <canvas class="drawCanvas" id="drawCanvas" ></canvas>
            <canvas class="UICanvas" id="UICanvas"></canvas>
            <script src="{{ url_for('static', filename='JavascriptCanvasDrawer.js') }}"></script>

            <i class="fa fa-trash-o" id="bin"></i>
            <i class="fa fa-undo" id="restart"></i>
            <i class="fa fa-long-arrow-left" id="undo"></i>
            <i class="fa fa-table" id="table"></i>
            <i class="fa fa-info" id="info"></i>

            <div class="submitButton" id="submitButton">
                <a href=# class="button" id="submit">Submit</a>
            </div>
    </div>
  </div>
{% endblock %}